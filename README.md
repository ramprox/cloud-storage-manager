# Cloud storage manager

<details open=""><summary><h2>Описание</h2></summary>
   <div>
      Cloud Storage Manager - облачное хранилище, предназначенное для хранения, загрузки и скачивания файлов в/из удаленного сервера.
   </div>
   <div align="center">
      <a href="https://user-images.githubusercontent.com/73485824/173135598-14116915-ef29-4dd3-8e09-826875820991.png"><img src="https://user-images.githubusercontent.com/73485824/173135598-14116915-ef29-4dd3-8e09-826875820991.png"></a>
   </div>
</details>
<details><summary><h2>Стэк технологий</h2></summary>
   <ul>
      <li>JDK 1.8</li>
      <li>Maven</li>
      <li>JavaFX</li>
      <li>MySQL 5.7.11</li>
      <li>Netty 4.1.59.Final</li>
      <li>Driver JDBC MySQL v.8.0.23</li>
   </ul>
</details>
<details><summary><h2>Функциональность</h2></summary>
   <ul>
      <li>
         <div><strong>Аутентификация и регистрация нового пользователя в БД</strong></div>
         <div>
            Подключение клиента к серверу происходит путем выбора Меню -> Соединение -> Соединение с сервером. Затем в зависимости от выбранных кнопок
            "Sign In" (аутентификация) или "Sign Up"(регистрация) происходит соответственно либо аутентификация либо регистрация. При попытке регистрации
            с уже существующим логином или при попытке входа с данными пользователя, который уже в сети выдается сообщение с ошибкой.
         </div>
      </li>
      <li>
         <div><strong>База данных для хранения зарегистрированных пользователей</strong></div>
         <div>Дамп базы данных находится в файле cloud_storage.sql в корне проекта</div>
      </li>
      <li>
         <strong>Работа с файлами и директориями на удаленном сервере и локально:</strong>
         <ul>
            <li>
               <div><strong>Создание</strong></div>
               <div>
                  Создание файла происходит в текущей директории клиента или сервера после выбора соответствующей таблицы
                  и нажатия кнопки "Создать файл" в нижней части окна или сочетания клавиш "Ctrl+N". Создание директории происходит
                  в текущей директории клиента или сервера после выбора соответствующей таблицы и нажатия кнопки "Создать папку"
                  в нижней части окна или сочетания клавиш "Ctrl+D". Перед созданием появляется окно, в котором пользователь
                  должен ввести имя вновь создаваемого файла и подтвердить или отменить операцию.
               </div>
            </li>
            <li>
               <div><strong>Удаление</strong></div>
               <div>
                  Удаление происходит после выбора соответствующего файла или директории на клиентской (с левой стороны) или
                  серверной таблице (с правой стороны) и нажатия кнопки "Удалить" в нижней части окна или клавиши "Del". Перед
                  удалением появляется окно, в котором пользователь должен подтвердить операцию.
               </div>
            </li>
            <li>
               <div><strong>Переименование</strong></div>
               <div>
                  Переименование выбранного файла или директории в текущей директории клиента или сервера происходит после нажатия
                  кнопки "Переименовать" в нижней части окна или сочетания клавиш "Ctrl+R". Перед изменением появляется окно,
                  в котором пользователь вводит новое имя файла и подтверждает изменение имени файла.
               </div>
            </li>
            <li>
               <div><strong>Загрузка на сервер (upload)</strong></div>
               <div>
                  Загрузка файлов и директорий на сервер происходит после выбора соответствующего файла в таблице клиента и нажатия
                  кнопки "Копировать" в нижней части окна или клавиши "F5". После нажатия появляется окно для подтверждения данной операции.
                  Загрузка происходит в два этапа. Сначала клиент отправляет запрос на сервер со списком загружаемых файлов. На стороне
                  сервера происходит создание требуемых каталогов (если выбраны для загрузки каталоги) и файлов с нулевым размером из
                  принятого списка. Далее из этого списка удаляются все созданные файлы и сервер отправляет клиенту сигнал готовности
                  для загрузки. На стороне клиента параллельно происходит такая же фильтрация и после того как приходит от сервера
                  сигнал готовности, начинается передача содержимого файлов.
               </div>
            </li>
            <li>
               <div><strong>Загрузка из сервера (download)</strong></div>
               <div>
                  Загрузка файлов и директорий из сервера происходит после выбора соответствующего файла в таблице сервера и нажатия
                  кнопки "Копировать" в нижней части окна или клавиши "F5" и подтверждения операции загрузки.
                  Загрузка происходит в два этапа. Сначала клиент отправляет запрос на сервер с именем загружаемого файла. Сервер
                  в ответ формирует список всех файлов по запрошенному пути. Если запрошенный файл не является директорией, то список
                  будет состоять из одного выбраного файла. На стороне клиента происходит создание требуемых каталогов (если выбраны
                  для загрузки каталоги) и файлов с нулевым размером из принятого списка. Далее из этого списка удаляются все
                  созданные файлы и клиент отправляет серверу сигнал готовности для загрузки. На стороне сервера параллельно
                  происходит такая же фильтрация и после того как приходит от клиента сигнал готовности, начинается передача
                  содержимого файлов.
               </div>
            </li>
            <li>
               <div><strong>Просмотр размера, даты создания и последнего обновления</strong></div>
               <div>
                  В таблицах соответствующих клиенсткой и серверной стороне реализовано по умолчанию отображение размера только
                  файлов как с клиентской, так и с серверной стороны, т.к. содержимое директорий может быть многоуровневым и
                  содержащим множество файлов. Но через контекстное меню выбранной директории (кроме родительской) можно получить информацию о размере
                  выбранной директории. Полученное значение отображается в колонке "Размер" в строке, соответствующей выбранной
                  директории.
               </div>
            <li>
               <div><strong>Поиск</strong></div>
               <div>
                  Для осуществления поиска файлов на стороне клиента или сервера над каждой из соответствующих таблиц расположены
                  текстовые поля для ввода искомых файлов. Поиск осуществляется начиная с текущей директории. Результаты поиска
                  отображаются в новом окне в виде отсортированного списка, содержащего пути к файлам. В результаты поиска попадают
                  все файлы, имена которых содержат текст, введенный пользователем в текстовое поле.
               </div>
            </li>
            <li>
               <div><strong>Сортировка по имени, размеру, дате создания и последнего обновления</strong></div>
               <div>
                  При запуске программы происходит сортировка по умолчанию по именам в порядке возрастания (сначала отображаются
                  директории, потом файлы). В каждой из таблиц, соответствующих стороне клиента или сервера реализована возможность
                  сортировки по имени, размеру, дате создания и дате изменения в порядке возрастания или убывания. Изменение
                  вида сортировки происходит при щелчке левой кнопкой мыши на заголовке соответствующих колонок таблиц.
               </div>
            </li>
         </ul>
      </li>
   </ul>
</details>
<details><summary><h2>Сборка и запуск приложения</h2></summary>
   <div>
      Для запуска приложения локально необходимо иметь следующие установленные приложения:
   </div>
   <ul>
      <li><a href="https://docs.oracle.com/javase/8/docs/technotes/guides/install/install_overview.html">JDK</a> &ndash; v.1.8;</li>
      <li><a href="https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html">Maven</a> &ndash; v.3.8.1;</li>
      <li><a href="https://dev.mysql.com/doc/refman/5.7/en/installing.html">MySQL</a> &ndash; v.5.7.11;</li>
   </ul>
   &nbsp;&nbsp;&nbsp;&nbsp;После установки вышеуказанных программ необходимо:
   <ul>
      <li><a href="#git_clone">Склонировать репозиторий на локальный компьютер</a></li>
      <li><a href="#mvn-build">Запустить сборку проекта через Maven</a></li>
      <li><a href="#sql-run">Запустить выполнение скрипта базы данных</a></li>
      <li><a href="#run-app">Запустить приложение</a></li>
  </ul>
   
   <a name="git_clone"><h3>Склонировать репозиторий на локальный компьютер:</h3></a>
   ```
   git clone https://github.com/ramprox/cloud-storage-manager
   ```
   <a name="mvn-build"><h3>Запустить сборку проекта через Maven</h3></a>
   ```
   cd cloud-storage-manager
   mvn clean install
   ```
   <a name="sql-run"><h3>Запустить выполнение скрипта базы данных</h3></a>
   Предполагается, что сервер MySQL запущен
   ```
   mysql -u yourUserName -p yourDatabaseName < cloud_storage.sql
   ```
   <a name="run-app"><h3>Запустить приложение</h3></a>
   Необходимо открыть два консольных окна.
   В одном окне перейти в папку /cloud-storage-manager/server/target и запустить сервер:
   ```
   java -jar server-1.0-SNAPSHOT-jar-with-dependencies.jar
   ```
   В другом окне перейти в папку /cloud-storage-manager/client/target и запустить клиента:
   ```
   java -jar client-1.0-SNAPSHOT-jar-with-dependencies.jar
   ```
</details>
<details><summary><h2>Структура папок</h2></summary>
   <table>
      <tr>
         <th>Директория</th>
         <th>Описание</th>
      </tr>
      <tr>
         <td>client</td>
         <td>Клиентская часть</td>
      </tr>
      <tr>
         <td>interop</td>
         <td>Модуль структур данных для взаимодействия сервера и клиента.</td>
      </tr>
      <tr>
         <td>server</td>
         <td>Серверная часть</td>
      </tr>
   </table>
</details>
